(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6971:function(e,t,r){Promise.resolve().then(r.bind(r,7722))},5756:function(e,t,r){"use strict";function n(e){return 1===(e=String(e)).length?"0"+e:e}r.d(t,{W6:function(){return u},eR:function(){return c},f1:function(){return n}});let a=["January","February","March","April","May","June","July","August","September","October","November","December"],s=e=>a[e],l=e=>e>10&&e<20?"th":["th","st","nd","rd","th","th","th","th","th","th"][e%10],o=e=>e+l(e),c=()=>{let e=new Date;return Number("".concat(e.getFullYear()).concat(n(e.getMonth())).concat(n(e.getDate())).concat(n(e.getHours())).concat(n(e.getMinutes())).concat(n(e.getSeconds())))},u=()=>{let e=new Date;return"".concat(o(e.getDate())," ").concat(s(e.getMonth()),", ").concat(e.getFullYear())}},7105:function(e,t,r){"use strict";r.d(t,{I:function(){return o},db:function(){return c}});var n=r(994),a=r(4086),s=r(3085);let l=(0,n.ZF)({apiKey:"AIzaSyB-n-QZ2J_GpHeqhn6uz-TSQAldkvi0lUM",authDomain:"cla-stories.firebaseapp.com",projectId:"cla-stories",storageBucket:"cla-stories.appspot.com",messagingSenderId:"263250403554",appId:"1:263250403554:web:92eba0e0d4ed44941efebb",measurementId:"G-6QJJW9GSGK"}),o=(0,s.v0)(l),c=(0,a.ad)(l)},7722:function(e,t,r){"use strict";r.r(t),r.d(t,{Login:function(){return d}});var n=r(7437),a=r(2265),s=r(7105),l=r(3085),o=r(4086);function c(){async function e(){if(""===t||""===c)return;let e=t.trim(),r=(0,o.JU)(s.db,"users",e);if(!(await (0,o.QT)(r)).exists()){d("Account doesn't exist! Please create your account before logging in.");return}try{await (0,l.e5)(s.I,t,c),window.open("/user","_self")}catch(e){if("auth/wrong-password"===e.code){d("Uh oh! Incorrect password :(");return}d("There was an error while signing in")}}let[t,r]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[i,d]=(0,a.useState)("");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"email",placeholder:"Enter your email...",onChange:e=>r(e.target.value.trim()),value:t,className:"text-black w-full text-sm rounded-full border-2 border-solid border-black outline-none py-[5px] px-[15px]"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"password",placeholder:"Create a password...",onChange:e=>u(e.target.value),value:c,className:"text-black w-full mt-2 text-sm rounded-full border-2 border-solid border-black outline-none py-[5px] px-[15px]"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{className:"bg-black text-white px-[10px] py-[5px] rounded-md w-4/5 mb-2 hover:bg-cyan-600    transition-all mt-2",onClick:e,children:"Log In"}),i.trim().length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)("p",{className:"text-black text-xs",children:i})]})]})}var u=r(5756);function i(){let[e,t]=(0,a.useState)(""),[r,c]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[x,m]=(0,a.useState)("");async function h(){if(""===e){m("Please an an email.");return}if(""===p){m("Please enter a username.");return}if(""===r){m("Please enter a password.");return}if(r!==i){m("Entered passwords don't match, please re-enter them.");return}if(r.length<8){m("Password needs to be at least 8 characters long.");return}m("");let t=e.trim(),n=(0,o.JU)(s.db,"users",t),a=await (0,o.QT)(n);if(a.exists()){m("Your account already exists, please log-in instead.");return}try{let{user:t}=await (0,l.Xb)(s.I,e,r);await (0,l.ck)(t,{displayName:p})}catch(e){"auth/email-already-in-use"===e.code&&m("Your account already exists, please log-in instead."),console.log(e,e.code);return}try{let e=new Date,t={username:p,createdAt:"".concat((0,u.f1)(e.getHours()),":").concat((0,u.f1)(e.getMinutes()),":").concat((0,u.f1)(e.getSeconds())),createdOn:"".concat(e.getFullYear()).concat((0,u.f1)(e.getMonth())).concat((0,u.f1)(e.getDate())),likedPosts:[]};await (0,o.pl)(n,t),window.open("/user","_self")}catch(e){console.log(e)}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{placeholder:"Create a username...",value:p,onChange:e=>b(e.target.value.trim()),className:"w-full text-black mb-2 text-sm rounded-full border-2 border-solid border-black outline-none py-[5px] px-[15px]"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"email",placeholder:"Enter your email...",value:e,onChange:e=>t(e.target.value.trim()),className:"w-full text-black mb-2 text-sm rounded-full border-2 border-solid border-black outline-none py-[5px] px-[15px]"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"password",placeholder:"Create a password...",value:r,onChange:e=>c(e.target.value),className:"w-full text-black mb-2 text-sm rounded-full border-2 border-solid border-black outline-none py-[5px] px-[15px]"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"password",placeholder:"Re-enter password...",value:i,onChange:e=>d(e.target.value),className:"w-full text-black mb-2 text-sm rounded-full border-2 border-solid border-black outline-none py-[5px] px-[15px]"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{className:"bg-black text-white px-[10px] py-[5px] rounded-md w-4/5 mb-2 hover:bg-cyan-600 transition-all hover:text-black",onClick:h,children:"Sign Up"}),x.trim().length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)("p",{className:"text-black text-xs",children:x})]})]})}function d(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{setTimeout(()=>{if(s.I.currentUser){window.open("/user","_self");return}l(!0)},3e3)},[]),r?(0,n.jsx)("section",{className:"min-h-screen bg-gradient-to-r from-cyan-500 to-purple-300 flex justify-center items-center text-center",children:(0,n.jsxs)("div",{className:"bg-white py-10 px-10 rounded-lg w-[300px] @lg:bg-black inline-block",children:[(0,n.jsx)("h1",{className:"text-2xl font-playfair text-black mb-4",children:e?"Sign Up":"Log In"}),e?(0,n.jsx)(i,{}):(0,n.jsx)(c,{}),(0,n.jsx)("button",{className:"text-black text-sm m-1",onClick:()=>t(e=>!e),children:e?"Log In Instead":"Sign Up Instead"})]})}):(0,n.jsx)("section",{className:"h-screen bg-black pt-20 text-center flex align-center justify-center items-center",children:(0,n.jsx)("div",{className:"border-t-white border-l-white border-r-black border-b-black border-solid border-2 rounded-full h-[50px] w-[50px] animate-spin"})})}}},function(e){e.O(0,[358,214,647,971,596,744],function(){return e(e.s=6971)}),_N_E=e.O()}]);